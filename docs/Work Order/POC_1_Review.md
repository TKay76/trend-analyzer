# PoC Review: TikTok Sound Data Scraping (`scraper_poc.py`)

## 1. 기능 요약

`scraper_poc.py` 스크립트는 주어진 TikTok 'Sound' 페이지 URL을 입력받아, 해당 사운드를 사용한 동영상의 총 개수를 추출하여 정수 형태로 콘솔에 출력하는 기능을 성공적으로 구현했습니다.

주요 기능은 다음과 같습니다:
- **입력:** 단일 TikTok 'Sound' 페이지 URL을 명령줄 인수로 받습니다.
- **브라우저 자동화:** `Playwright`를 사용하여 실제 웹 브라우저(Chromium)를 제어하고, 동적으로 로드되는 페이지 콘텐츠를 처리합니다.
- **데이터 추출:** `BeautifulSoup`를 사용하여 페이지의 HTML 구조를 파싱하고, '총 동영상 수'를 나타내는 요소를 식별하여 텍스트를 추출합니다.
- **데이터 파싱:** 추출된 텍스트(예: "1.4M videos", "1,400,000 videos")에서 숫자만 추출하고, 'K'(천), 'M'(백만)과 같은 단위를 정확한 정수 값으로 변환합니다.
- **출력:** 최종 파싱된 동영상 개수를 정수 형태로 콘솔에 출력합니다.

이 PoC는 TikTok 플랫폼에서 특정 사운드의 사용량 데이터를 기술적으로 스크래핑할 수 있음을 성공적으로 검증했습니다.

## 2. 향후 과제 및 발전 방향

### 2.1. 견고성 강화
- **HTML 구조 변화 대응:** TikTok 웹사이트의 HTML 구조는 빈번하게 변경됩니다. 현재 스크립트는 특정 HTML 셀렉터에 의존하므로, 웹사이트 변경 시 스크래핑이 중단될 수 있습니다. 향후에는 텍스트 패턴 매칭, 상대적 요소 위치 파악, 또는 AI 기반의 요소 식별과 같은 더 유연하고 견고한 파싱 전략을 고려해야 합니다.
- **안티-스크래핑 조치 대응:** 대규모 또는 빈번한 스크래핑 시 CAPTCHA, IP 차단, 브라우저 지문 인식 등 TikTok의 안티-스크래핑 조치에 직면할 수 있습니다. 프록시 로테이션, CAPTCHA 해결 서비스 연동, 또는 `playwright-extra`의 `stealth` 플러그인과 같은 고급 우회 기술 도입을 검토해야 합니다.

### 2.2. 성능 및 확장성
- **병렬 처리/비동기 처리:** 현재 스크립트는 단일 URL을 순차적으로 처리합니다. 다수의 사운드 데이터를 처리해야 할 경우, `asyncio`와 같은 비동기 프레임워크를 사용하거나 여러 브라우저 인스턴스를 병렬로 실행하여 스크래핑 속도를 향상시킬 수 있습니다.
- **오류 처리 개선:** 네트워크 오류, 페이지 로딩 실패, 예상치 못한 HTML 구조 변화 등 다양한 예외 상황에 대한 더 구체적이고 복구 가능한 오류 처리 로직을 추가해야 합니다.

### 2.3. 데이터 활용
- **데이터 저장:** 현재 데이터는 콘솔에만 출력됩니다. 실제 서비스에서는 추출된 데이터를 데이터베이스(SQL, NoSQL), 클라우드 스토리지 또는 파일 시스템에 저장하여 영속성을 확보해야 합니다.
- **데이터 파이프라인 통합:** 스크래핑된 데이터를 후처리, 분석, 시각화 파이프라인에 통합하여 'Short-form Music Trend Analysis Service'의 핵심 데이터 소스로 활용할 수 있도록 해야 합니다.
